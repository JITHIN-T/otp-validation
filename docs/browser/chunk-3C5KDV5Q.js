import{a as A,b as D}from"./chunk-ZSV3UMS6.js";import{A as V,h as F,j as P,n as w,o as g,p as x,q as y,v as E,w as N,y as S}from"./chunk-NM4USZJE.js";import{Ea as O,Ga as l,Ha as b,Ka as s,La as r,Ma as C,Na as v,Oa as d,Pa as I,Ra as a,Sa as _,X as f,Xa as T,ea as m,fa as u,ta as p,ua as h}from"./chunk-TIC4SULF.js";function R(n,o){if(n&1&&(s(0,"p"),a(1),r()),n&2){let M=I();p(),_("Entered OTP: ",M.submittedOtp,"")}}var J=(()=>{let o=class o{constructor(e){this.fb=e,this.submittedOtp=null,this.otpForm=this.fb.group({otp:["",[g.required,g.minLength(6)]]}),this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{"border-radius":"10px"},inputClass:"input"}}handleInputChange(e){this.otpForm.get("otp")?.setValue(e)}onSubmit(){this.otpForm.markAllAsTouched(),this.otpForm.valid?(this.submittedOtp=this.otpForm.get("otp")?.value,console.log("Entered OTP:",this.submittedOtp)):(this.submittedOtp=null,console.error("OTP is invalid"))}isOtpEntered(){return!!this.submittedOtp}incorrectOtp(){let e=this.otpForm.get("otp");return e?e.invalid&&e.touched:!1}ngAfterViewInit(){if("OTPCredential"in window){console.log("Web OTP API supported,");debugger;let i=new AbortController;console.log("DOM LOADED");var e={otp:{transport:["sms"]},signal:i.signal};navigator.credentials.get(e).then(t=>{debugger;console.log(t,"OTP"),t&&t&&t.code&&this.otpForm.get("otp")?.setValue(t)}).catch(t=>{debugger;console.log(t)})}else console.log("Web OTP API not supported, Please enter manually.")}};o.\u0275fac=function(i){return new(i||o)(h(S))},o.\u0275cmp=f({type:o,selectors:[["app-otpgeneration"]],standalone:!0,features:[T],decls:11,vars:5,consts:[["ngOtpInput",""],[1,"box-div"],[1,"top"],[1,"heading"],[3,"formGroup"],["id","otp","ngDefaultControl","","formControlName","otp",3,"onInputChange","config"],["type","button",3,"click"],[4,"ngIf"]],template:function(i,t){if(i&1){let c=v();s(0,"div",1)(1,"div",2)(2,"p",3),a(3,"ENTER VERIFICATION CODE"),r(),C(4,"br"),s(5,"div",4)(6,"ng-otp-input",5,0),d("onInputChange",function(G){return m(c),u(t.handleInputChange(G))}),r(),s(8,"button",6),d("click",function(){return m(c),u(t.onSubmit())}),a(9,"Submit OTP"),r(),O(10,R,2,1,"p",7),r()()()}i&2&&(p(5),l("formGroup",t.otpForm),p(),b("invalid-otp",t.incorrectOtp()),l("config",t.config),p(4),l("ngIf",t.submittedOtp))},dependencies:[D,A,P,F,V,w,x,y,E,N],styles:[".box-div[_ngcontent-%COMP%]{border:1px solid grey;border-radius:10px;width:400px;height:auto;margin-left:590px;margin-top:200px}.top[_ngcontent-%COMP%]{padding-left:20px;padding-top:50px}.heading[_ngcontent-%COMP%]{font-size:x-large;font-weight:700;font-family:Times New Roman,Times,serif}"]});let n=o;return n})();export{J as OtpgenerationComponent};
